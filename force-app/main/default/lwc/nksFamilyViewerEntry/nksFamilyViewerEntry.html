<template>
    <div>
        <template if:true={isError}>
            FEIL: {getErrorMsg}
        </template>
        <template if:false={isError}>
            <template if:true={isMarital}>
                <p>
                    <b>
                        Sivilstand: {getRole}
                    </b>
                    <template if:true={hasEventDate}>
                         &nbsp;- Fra: {relation.eventDate}
                    </template>
                </p>
            </template>
            <template if:true={isChild}>
                <p>
                    <b>
                        {getRole}
                    </b>
                </p>
            </template>
            <template if:true={isParent}>
                <p>
                    <b>
                        {getRole}
                    </b>
                </p>
            </template>
            <template if:true={isStillBorn}>
                <p>
                    <b>
                        {getRole}
                    </b>
                    <template if:true={hasEventDate}>
                        &nbsp;- Dato: {relation.eventDate}
                   </template>
                </p>
            </template>
            <template if:true={showCardTile}>
                <lightning-tile type="media" class="familyRelationTile">
                    
                    <lightning-layout-item class="gender" slot="media">
                        <c-nks-custom-svg
                            class={genderIcon}
                            src={genderIconSrc}
                            alt-text={getSex}
                            classes={genderIconClass}
                        ></c-nks-custom-svg>
                    </lightning-layout-item>

                    <ul class="slds-list_vertical">
                        <template if:true={showUrl}>
                            <li class="tileListItem">
                                <lightning-formatted-url value={recordPageUrl} label={getTileName} onclick={navigateToSObject}></lightning-formatted-url>
                            </li>
                        </template>
                        <template if:false={showUrl}>
                            <li class="tileListItem">{getTileName}</li>
                        </template>

                        <template if:true={showInfoCard}>
                            <li class="tileListItem">{getBirthDate}&nbsp;
                                <template if:true={relation.deceased}>
                                    - <b>{getDateOfDeath}</b> &nbsp;
                                </template>
                            </li>
                                <template if:true={relation.personIdent}>
                                    <li class="tileListItem">
                                        {relation.personIdent}
                                        <lightning-button-icon
                                            class="slds-m-left_xx-small copyButton"
                                            icon-name="utility:copy"
                                            variant="bare"
                                            onclick={handleCopyIdent}
                                            alternative-text="Kopier fødselsnummer"
                                            title="Kopier fødselsnummer"
                                        ></lightning-button-icon>
                                    </li>
                                </template>
                                <template if:true={isChild}>
                                    <li class="tileListItem">{getChildText}</li>
                                </template>
                                <template if:true={isParent}>
                                    <li class="tileListItem">{getParentText}</li>
                                </template>
                                <template if:true={hasBadges}>
                                    <li class="tileListItem">
                                        <span if:true={uuAlertText} class="slds-assistive-text" role="alert">{uuAlertText}</span>
                                        <lightning-layout class="BadgeLayout">
                                            <lightning-layout-item>
                                                <template for:each={badges} for:item="badge">
                                                    <lightning-badge
                                                        key={badge.name}
                                                        class="slds-theme_error"
                                                        label={badge.label}
                                                    >
                                                    </lightning-badge>
                                                </template>
                                            </lightning-layout-item>
                                        </lightning-layout>
                                    </li>
                                </template>
                        </template>
                    </ul>
                </lightning-tile>
            </template>
        </template>
    </div>
</template>
