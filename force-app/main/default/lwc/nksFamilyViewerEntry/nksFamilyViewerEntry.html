<template>
    <div>
        <template if:true={isError}>
            FEIL: {getErrorMsg}
        </template>
        <template if:false={isError}>
            <template if:true={isMarital}>
                <p>
                    <b>
                        Sivilstand: {getRole}
                    </b>
                    <template if:true={hasEventDate}>
                         &nbsp;- Fra: {relation.eventDate}
                    </template>
                </p>
            </template>
            <template if:true={isChild}>
                <p>
                    <b>
                        {getRole}
                    </b>
                </p>
            </template>
            <template if:true={isParent}>
                <p>
                    <b>
                        {getRole}
                    </b>
                </p>
            </template>
            <template if:true={isStillBorn}>
                <p>
                    <b>
                        {getRole}
                    </b>
                    <template if:true={hasEventDate}>
                        &nbsp;- Dato: {relation.eventDate}
                   </template>
                </p>
            </template>
            <template if:true={showCardTile}>
                <lightning-tile type="media" class="familyRelationTile">
                    <template if:true={showUrl}>
                        <lightning-formatted-url value={recordPageUrl} label={getTileName} onclick={navigateToSObject}></lightning-formatted-url>
                    </template>
                    <template if:false={showUrl}>
                        {getTileName}
                    </template>
                    
                    <template if:true={hasBadges}>
                        <span if:true={uuAlertText} class="slds-assistive-text" role="alert">{uuAlertText}</span>
                        <lightning-layout multiple-rows="true">
                            <lightning-layout-item size="12">
                                <template for:each={badges} for:item="badge">
                                    <lightning-badge
                                        key={badge.name}
                                        class="slds-theme_error slds-var-m-left_x-small"
                                        label={badge.label}
                                    >
                                    </lightning-badge>
                                </template>
                            </lightning-layout-item>
                        </lightning-layout>
                    </template>

                    <lightning-layout-item class="gender" slot="media">
                        <c-nks-custom-svg
                            class={genderIcon}
                            src={genderIconSrc}
                            alt-text={getSex}
                            classes={genderIconClass}
                        ></c-nks-custom-svg>
                    </lightning-layout-item>
                    <template if:true={showInfoCard}>
                        <ul class="slds-list_vertical">
                            <template if:true={relation.personIdent}>
                                {relation.personIdent}
                                <lightning-button-icon
                                    class="copy-icon"
                                    icon-name="utility:copy"
                                    variant="bare"
                                    onclick={handleCopyIdent}
                                    alternative-text="Kopier fødselsnummer"
                                    title="Kopier fødselsnummer"
                                ></lightning-button-icon>
                            </template>
                            <li class="slds-item">{getBirthDate}&nbsp;
                                <template if:true={relation.deceased}>
                                    - <b>{getDateOfDeath}</b> &nbsp;
                                </template></li>
                                <template if:true={isChild}>
                                    <li class="slds-item">{getChildText}</li>
                                </template>
                                <template if:true={isParent}>
                                    <li class="slds-item">{getParentText}</li>
                                </template>
                        </ul>
                    </template>
                </lightning-tile>
            </template>
        </template>
    </div>
</template>
